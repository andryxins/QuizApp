{"version":3,"sources":["webpack:///./tamplate/showResaltTemplate.hbs","webpack:///./tamplate/startTestTemplate.hbs","webpack:///./services/responceForCategoriesOnStart.js","webpack:///./services/responceForTest.js","webpack:///./components/testActions.js","webpack:///./components/testStartActions.js","webpack:///./tamplate/testInterFace.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","escapeExpression","correctAnswers","hooks","helperMissing","call","nullContext","alias1","alias2","alias4","id","name","stack1","each","trivia_categories","program","noop","fetch","responce","json","console","log","category","difficulty","type","url","value","results","testActions","userAnswers","quantityOfQuestions","currentQuestionIdx","document","querySelector","initTest","addEventListener","e","preventDefault","responceForTest","target","elements","testsData","length","Toastify","text","backgroundColor","duration","className","showToast","testStart","getCorrectAnswersAndQuantity","questions","this","push","map","item","correct_answer","testRun","showTestResalt","incorrect_answers","splice","Math","round","random","innerHTML","insertAdjacentHTML","testInterFace","userAnswer","Array","from","find","checked","testResalt","reduce","acc","idx","quantityOfCorrectAnswers","showResaltTemplate","startTestActions","renderingStartPage","refs","responceForCategories","categories","startTestTemplate","markup","lambda","question"],"mappings":"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","file":"main.0d488e2df8626049eb20.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"show-resalt\\\">\\n    <h2 class=\\\"show-resalt__title\\\">Your Resalt :</h2>\\n    <p class=\\\"show-resalt__quantity-answers\\\">\"\n    + container.escapeExpression(((helper = (helper = helpers.correctAnswers || (depth0 != null ? depth0.correctAnswers : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"correctAnswers\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":45},\"end\":{\"line\":3,\"column\":63}}}) : helper)))\n    + \"/10</p>\\n    <button class=\\\"show-resalt-btn page-btn\\\">Start Again!</button>\\n</div>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"        <option value=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":23},\"end\":{\"line\":4,\"column\":29}}}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":31},\"end\":{\"line\":4,\"column\":39}}}) : helper)))\n    + \"</option>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<form method=\\\"get\\\" id=\\\"searchQuestions\\\" class=\\\"search-form\\\">\\n    <select class=\\\"serch-form__category\\\" name=\\\"category\\\">\\n\"\n    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.trivia_categories : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":8},\"end\":{\"line\":5,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"\\n    </select>\\n    <select name=\\\"difficulty\\\" class=\\\"serch-form__difficulty\\\">\\n        <option value=\\\"\\\">all difficulty</option>\\n        <option value=\\\"easy\\\">easy</option>\\n        <option value=\\\"medium\\\">normal</option>\\n        <option value=\\\"hard\\\">hard</option>\\n    </select>\\n    <select name=\\\"type\\\" class=\\\"serch-form__type\\\">\\n        <option value=\\\"\\\">any type</option>\\n        <option value=\\\"multiple\\\">multiple</option>\\n        <option value=\\\"boolean\\\">true/false</option>\\n    </select>\\n    <button type=\\\"submit\\\" class=\\\"serch-form__submit page-btn\\\">start!</button>\\n</form>\";\n},\"useData\":true});","export default async () => {\n  try {\n    const responce = await fetch('https://opentdb.com/api_category.php');\n    const data = await responce.json();\n    return data;\n  } catch (e) {\n    console.log(e);\n  }\n};\n","export default async ({ category, difficulty, type }) => {\n  try {\n    const url = `https://opentdb.com/api.php?amount=10&category=${category.value}&difficulty=${difficulty.value}&type=${type.value}`;\n    const responce = await fetch(url);\n    const data = await responce.json();\n    return data.results;\n  } catch (e) {\n    console.log(e);\n  }\n};\n","import responceForTest from '../services/responceForTest';\nimport testInterFace from '../tamplate/testInterFace.hbs';\nimport showResaltTemplate from '../tamplate/showResaltTemplate.hbs';\nimport { startTestActions } from '../components/testStartActions';\nimport Toastify from 'toastify-js';\n\nconst testActions = {\n  correctAnswers: [],\n  userAnswers: [],\n  quantityOfQuestions: 0,\n  currentQuestionIdx: 0,\n  container: document.querySelector('.container'),\n  initTest() {\n    const form = document.querySelector('#searchQuestions');\n    form.addEventListener('submit', async e => {\n      e.preventDefault();\n      const testsData = await responceForTest(e.target.elements);\n      if (!testsData.length) {\n        Toastify({\n          text: \"Sory, we couldn't find anything\",\n          backgroundColor: '#f64c72',\n          duration: 2000,\n          className: 'info',\n        }).showToast();\n        return;\n      }\n      testActions.testStart(testsData);\n    });\n  },\n  getCorrectAnswersAndQuantity(questions) {\n    this.correctAnswers.push(...questions.map(item => item.correct_answer));\n    this.quantityOfQuestions += questions.length;\n  },\n  testStart(questions) {\n    this.getCorrectAnswersAndQuantity(questions);\n    this.testRun(questions);\n  },\n  testRun(questions) {\n    if (this.quantityOfQuestions === this.currentQuestionIdx) {\n      this.showTestResalt();\n      this.correctAnswers = [];\n      this.userAnswers = [];\n      this.quantityOfQuestions = 0;\n      this.currentQuestionIdx = 0;\n      return;\n    }\n    questions[this.currentQuestionIdx].incorrect_answers.splice(\n      Math.round(\n        Math.random() *\n          questions[this.currentQuestionIdx].incorrect_answers.length,\n      ),\n      0,\n      questions[this.currentQuestionIdx].correct_answer,\n    );\n    this.container.innerHTML = '';\n    this.container.insertAdjacentHTML(\n      'beforeend',\n      testInterFace(questions[this.currentQuestionIdx]),\n    );\n    document.querySelector('.currentQuestion').addEventListener('submit', e => {\n      e.preventDefault();\n      const userAnswer = Array.from(e.target.elements).find(\n        item => item.checked,\n      );\n      if (!userAnswer) {\n        Toastify({\n          text: 'You should choose any answer!!',\n          backgroundColor: '#f64c72',\n          duration: 2000,\n          className: 'info',\n        }).showToast();\n        return;\n      }\n\n      this.userAnswers.push(userAnswer.value);\n      this.currentQuestionIdx += 1;\n      this.testRun(questions);\n    });\n  },\n  testResalt() {\n    return this.userAnswers.reduce((acc, item, idx) => {\n      item === this.correctAnswers[idx] && acc++;\n      return acc;\n    }, 0);\n  },\n  showTestResalt() {\n    const quantityOfCorrectAnswers = this.testResalt();\n    this.container.innerHTML = '';\n    this.container.insertAdjacentHTML(\n      'beforeend',\n      showResaltTemplate({ correctAnswers: quantityOfCorrectAnswers }),\n    );\n    this.container\n      .querySelector('.show-resalt-btn')\n      .addEventListener('click', e => startTestActions.renderingStartPage());\n  },\n};\n\nexport { testActions };\n","import startTestTemplate from '../tamplate/startTestTemplate.hbs';\nimport responceForCategories from '../services/responceForCategoriesOnStart';\nimport { testActions } from './testActions';\n\nconst refs = {\n  container: document.querySelector('.container'),\n};\n\nconst startTestActions = {\n  async renderingStartPage() {\n    const categories = await responceForCategories();\n    const markup = await startTestTemplate(categories);\n    refs.container.innerHTML = '';\n    refs.container.insertAdjacentHTML('beforeend', markup);\n    testActions.initTest();\n  },\n};\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  startTestActions.renderingStartPage();\n});\n\nexport { startTestActions };\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"        <input type=\\\"radio\\\" name=\\\"answer\\\" value=\\\"\"\n    + alias2(alias1(depth0, depth0))\n    + \"\\\" id=\\\"\"\n    + alias2(alias1(depth0, depth0))\n    + \"\\\" class=\\\"form__check-box\\\">\\n        <label for=\\\"\"\n    + alias2(alias1(depth0, depth0))\n    + \"\\\" class=\\\"form__label\\\">\"\n    + alias2(alias1(depth0, depth0))\n    + \"</label>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return \"<div class=\\\"test-interface\\\">\\n    <h2 class=\\\"test-interface__title\\\">\"\n    + container.escapeExpression(((helper = (helper = helpers.question || (depth0 != null ? depth0.question : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"question\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":38},\"end\":{\"line\":2,\"column\":50}}}) : helper)))\n    + \"</h2>\\n    <form action=\\\"\\\" class=\\\"currentQuestion test-interface__form\\\">\\n\"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.incorrect_answers : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":8},\"end\":{\"line\":7,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"        <button type=\\\"submit\\\" class=\\\"nextQuestionBtn-js page-btn page-btn--next-question\\\">Next</button>\\n    </form>\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}